{"version":3,"file":"static/js/439.fb3d0549.chunk.js","mappings":"yPAoEA,UAtDkC,WAAqB,IAAD,EAC5CA,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MAEjB,GAKIC,EAAAA,EAAAA,IAA4B,CAC9BC,UAAUC,EAAAA,EAAAA,GAAYC,EAAAA,MALtBC,EADF,EACEA,SACAC,EAFF,EAEEA,SACAC,EAHF,EAGEA,aACaC,EAJf,EAIEC,UAAaD,OAKf,GAAkDE,EAAAA,EAAAA,KAAwB,CACxEC,UAAW,CAAEC,OAAQ,CAAEf,GAAAA,IACvBgB,MAAOhB,IAFDiB,KAAR,gBAA2C,GAA3C,GAAgBC,gBAAAA,OAAhB,MAAkC,KAAlC,EAKA,GAA2BC,EAAAA,EAAAA,KAA4B,CACrDC,YAAa,kBAAMlB,EAAS,+BADvBmB,GAAP,eAgBA,OANAC,EAAAA,EAAAA,YAAU,WACFJ,GACJV,EAAS,QAAuB,OAAfU,QAAe,IAAfA,OAAA,EAAAA,EAAiBK,OAAQ,MAE3C,CAACL,EAAiBV,KAGnB,kBAAMgB,UAAU,aAAhB,WACE,SAAC,KAAD,CACEC,MAAM,+BACNC,OAAQ1B,EACRwB,WAAWG,EAAAA,EAAAA,IAAOhB,EAAOY,MAAQ,yBAHnC,UAKE,SAAC,MAAD,gBACEvB,GAAG,OACH4B,MAAM,gBACNC,YAAY,6BACRpB,EAAS,SAJf,IAKEqB,MAAK,OAAEnB,QAAF,IAAEA,GAAF,UAAEA,EAAQY,YAAV,aAAE,EAAcQ,cAGzB,SAAC,KAAD,CAAaC,SAAUtB,GA3BJ,SAAC,GAAkC,IAAhCa,EAA+B,EAA/BA,KACxBF,GACEY,EAAAA,EAAAA,KAAO,QAAEV,KAAAA,KAAYL,GAAmB,CAAElB,GAAE,OAAEkB,QAAF,IAAEA,OAAF,EAAEA,EAAiBlB","sources":["admin/pages/Media/CreateMediaCategoriesPage.tsx"],"sourcesContent":["import { ReactElement, useEffect } from 'react';\r\nimport { joiResolver } from '@hookform/resolvers/joi';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nimport { Accordion, FormActions, InputField } from '../../components/molecules';\r\nimport { CategoryFormInputs } from '../../components/organisms';\r\nimport { CategoryFormSchema } from '../../validations';\r\nimport {\r\n  useGetLinkCategoryQuery,\r\n  useSaveLinkCategoryMutation,\r\n} from '../../../GraphQl/graphql';\r\nimport { gqlVar, twClsx } from '../../utils';\r\n\r\nconst CreateMediaCategoriesPage = (): ReactElement => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    setValue,\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<CategoryFormInputs>({\r\n    resolver: joiResolver(CategoryFormSchema),\r\n  });\r\n\r\n  const { data: { getLinkCategory = null } = {} } = useGetLinkCategoryQuery({\r\n    variables: { entity: { id } },\r\n    skip: !id,\r\n  });\r\n\r\n  const [saveLinkCategory] = useSaveLinkCategoryMutation({\r\n    onCompleted: () => navigate('/admin/medias/categories'),\r\n  });\r\n\r\n  const handleOnSubmit = ({ name }: CategoryFormInputs) => {\r\n    saveLinkCategory(\r\n      gqlVar({ name, ...(!!getLinkCategory && { id: getLinkCategory?.id }) })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!getLinkCategory) {\r\n      setValue('name', getLinkCategory?.name || '');\r\n    }\r\n  }, [getLinkCategory, setValue]);\r\n\r\n  return (\r\n    <form className=\"min-h-full\">\r\n      <Accordion\r\n        title=\"Neue Kategorie hinzufÃ¼gen\"\r\n        open={!!id}\r\n        className={twClsx(errors.name && 'border border-primary')}\r\n      >\r\n        <InputField\r\n          id=\"name\"\r\n          label=\"Kategoriename\"\r\n          placeholder=\"Was kommt nach der Schule\"\r\n          {...register('name')}\r\n          error={errors?.name?.message}\r\n        />\r\n      </Accordion>\r\n      <FormActions onSubmit={handleSubmit(handleOnSubmit)} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreateMediaCategoriesPage;\r\n"],"names":["id","useParams","navigate","useNavigate","useForm","resolver","joiResolver","CategoryFormSchema","setValue","register","handleSubmit","errors","formState","useGetLinkCategoryQuery","variables","entity","skip","data","getLinkCategory","useSaveLinkCategoryMutation","onCompleted","saveLinkCategory","useEffect","name","className","title","open","twClsx","label","placeholder","error","message","onSubmit","gqlVar"],"sourceRoot":""}