{"version":3,"file":"static/js/695.9a99fcc4.chunk.js","mappings":"uNAmEA,UA1DsB,WAAO,IAAD,EACpBA,GAAWC,EAAAA,EAAAA,MACjB,GAAiDC,EAAAA,EAAAA,KAAsB,CACrEC,YAAa,sBADf,IAAQC,KAAR,gBAAiC,GAAjC,GAAgBC,MAAAA,OAAhB,MAAwB,KAAxB,EAAqCC,EAArC,EAAqCA,QAGrC,GAAqBC,EAAAA,EAAAA,KAAsB,CAAEC,YAAa,kBAAMF,OAAzDG,GAAP,eAGMC,EAAmB,SAACC,GAAD,OAAoB,WAEvCC,QAAQ,oCACVH,EAAW,CAAEI,UAAW,CAAEC,GAAIH,OAGlC,OACE,SAAC,aAAD,WACE,SAAC,KAAD,CACEI,WAAY,CACV,cACA,eACA,QACA,SACA,gBACA,QACA,YAEFC,UACO,OAALX,QAAK,IAALA,GAAA,UAAAA,EAAOY,cAAP,eAAeC,KAAI,SAACC,GAAD,QApBDR,EAoBC,OACjB,UAAC,SAAD,YACE,SAAC,UAAD,iBAAaQ,QAAb,IAAaA,OAAb,EAAaA,EAAMC,YACnB,SAAC,UAAD,iBAAaD,QAAb,IAAaA,GAAb,UAAaA,EAAME,cAAnB,aAAa,EAAcC,QAC3B,SAAC,UAAD,WACO,OAAJH,QAAI,IAAJA,GAAA,UAAAA,EAAMI,aAAN,eAAaL,KAAI,SAACM,EAAMC,GAAP,aAChB,0BACO,OAAJD,QAAI,IAAJA,OAAA,EAAAA,EAAMF,OAAQ,GACdG,MAAS,UAAAN,EAAKI,aAAL,eAAYG,SAAU,GAAK,GAAK,OAF5C,OAAQF,QAAR,IAAQA,OAAR,EAAQA,EAAMV,SAIV,MAER,SAAC,UAAD,iBAAaK,QAAb,IAAaA,OAAb,EAAaA,EAAMQ,SACnB,SAAC,UAAD,iBAAaR,QAAb,IAAaA,OAAb,EAAaA,EAAMS,SACnB,SAAC,UAAD,UACGC,GAAAA,CAAK,OAACV,QAAD,IAACA,OAAD,EAACA,EAAMW,SAASC,OAAO,iBAE/B,SAAC,UAAD,WACE,SAAC,KAAD,CACEC,UAvCUrB,GAuCqB,OAAJQ,QAAI,IAAJA,OAAA,EAAAA,EAAML,KAAM,GAvCV,kBAAMd,EAASW,KAwC5CsB,SAAUvB,GAAqB,OAAJS,QAAI,IAAJA,OAAA,EAAAA,EAAML,KAAM,UAnB7C,OAAgBK,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAML,SAuBlB","sources":["admin/pages/User/UsersListPage.tsx"],"sourcesContent":["import dayjs from 'dayjs';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  useDeleteUserMutation,\r\n  useGetUsersAdminQuery,\r\n} from '../../../GraphQl/graphql';\r\nimport { Table, Action, Panel } from '../../components/atoms';\r\nimport { CustomTable } from '../../components/molecules';\r\n\r\nconst UsersListPage = () => {\r\n  const navigate = useNavigate();\r\n  const { data: { users = null } = {}, refetch } = useGetUsersAdminQuery({\r\n    fetchPolicy: 'cache-and-network',\r\n  });\r\n  const [deleteUser] = useDeleteUserMutation({ onCompleted: () => refetch() });\r\n\r\n  const handleUserUpdate = (userId: string) => () => navigate(userId);\r\n  const handleUserDelete = (userId: string) => () => {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    if (confirm('Möchten Sie dies löschen?'))\r\n      deleteUser({ variables: { id: userId } });\r\n  };\r\n\r\n  return (\r\n    <Panel.Wrapper>\r\n      <CustomTable\r\n        headerData={[\r\n          'Benutzer/in',\r\n          'Aktiver Kurs',\r\n          'Rolle',\r\n          'E-Mail',\r\n          'Telefonnummer',\r\n          'Datum',\r\n          'Aktionen',\r\n        ]}\r\n        bodyData={\r\n          users?.result?.map((user) => (\r\n            <Table.Row key={user?.id}>\r\n              <Table.Data>{user?.fullname}</Table.Data>\r\n              <Table.Data>{user?.course?.name}</Table.Data>\r\n              <Table.Data>\r\n                {user?.roles?.map((role, idx) => (\r\n                  <p key={role?.id}>\r\n                    {role?.name || ''}\r\n                    {idx !== (user.roles?.length || 1) - 1 && ', '}\r\n                  </p>\r\n                )) || ''}\r\n              </Table.Data>\r\n              <Table.Data>{user?.email}</Table.Data>\r\n              <Table.Data>{user?.phone}</Table.Data>\r\n              <Table.Data>\r\n                {dayjs(user?.created).format('DD.MM.YYYY')}\r\n              </Table.Data>\r\n              <Table.Data>\r\n                <Action\r\n                  onUpdate={handleUserUpdate(user?.id || '')}\r\n                  onDelete={handleUserDelete(user?.id || '')}\r\n                />\r\n              </Table.Data>\r\n            </Table.Row>\r\n          )) || []\r\n        }\r\n      />\r\n    </Panel.Wrapper>\r\n  );\r\n};\r\n\r\nexport default UsersListPage;\r\n"],"names":["navigate","useNavigate","useGetUsersAdminQuery","fetchPolicy","data","users","refetch","useDeleteUserMutation","onCompleted","deleteUser","handleUserDelete","userId","confirm","variables","id","headerData","bodyData","result","map","user","fullname","course","name","roles","role","idx","length","email","phone","dayjs","created","format","onUpdate","onDelete"],"sourceRoot":""}