{"version":3,"file":"static/js/152.2f4fffce.chunk.js","mappings":"oQA0FA,UAzEoC,WAAqB,IAAD,IAC9CA,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MAEjB,GAOIC,EAAAA,EAAAA,IAAmC,CACrCC,UAAUC,EAAAA,EAAAA,GAAYC,EAAAA,MAPtBC,EADF,EACEA,QACAC,EAFF,EAEEA,MACAC,EAHF,EAGEA,SACAC,EAJF,EAIEA,SACAC,EALF,EAKEA,aACaC,EANf,EAMEC,UAAaD,OAKf,GAA6CE,EAAAA,EAAAA,KAAmB,CAC9DC,UAAW,CAAEC,OAAQ,CAAEjB,GAAAA,IACvBkB,MAAOlB,IAFDmB,KAAR,gBAAsC,GAAtC,GAAgBC,WAAAA,OAAhB,MAA6B,KAA7B,EAKA,GAAsBC,EAAAA,EAAAA,KAAuB,CAC3CC,YAAa,kBAAMpB,EAAS,0CADvBqB,GAAP,eAmBA,OATAC,EAAAA,EAAAA,YAAU,WACFJ,GACJX,EAAM,CACJgB,MAAgB,OAAVL,QAAU,IAAVA,OAAA,EAAAA,EAAYK,OAAQ,GAC1BC,OAAiB,OAAVN,QAAU,IAAVA,OAAA,EAAAA,EAAYM,QAAS,OAG/B,CAACN,EAAYX,KAGd,kBAAMkB,UAAU,aAAhB,WACE,SAAC,KAAD,CACEC,MAAM,YACNC,UAAQ,EACRC,OAAQ9B,EACR+B,cAAc,iBACdC,aAAa,SAAC,KAAD,CAAaxB,QAASA,EAASE,SAAUA,IACtDiB,WAAWM,EAAAA,EAAAA,KACRpB,EAAOa,OAASb,EAAOY,OAAS,yBAPrC,UAUE,iBAAKE,UAAU,+CAAf,WACE,SAAC,MAAD,gBACE3B,GAAG,OACHkC,MAAM,gBACNC,YAAY,kBACRxB,EAAS,SAJf,IAKEyB,MAAK,OAAEvB,QAAF,IAAEA,GAAF,UAAEA,EAAQY,YAAV,aAAE,EAAcY,YAEvB,SAAC,MAAD,gBACErC,GAAG,QACHkC,MAAM,QACNC,YAAY,WACRxB,EAAS,UAJf,IAKEyB,MAAK,OAAEvB,QAAF,IAAEA,GAAF,UAAEA,EAAQa,aAAV,aAAE,EAAeW,iBAI5B,SAAC,KAAD,CAAaC,SAAU1B,GA5CJ,SAACO,GACtBI,GACEgB,EAAAA,EAAAA,KAAO,kBAAKpB,KAAYC,GAAc,CAAEpB,GAAE,OAAEoB,QAAF,IAAEA,OAAF,EAAEA,EAAYpB","sources":["admin/pages/Vacancy/CreateVacancyCategoriesPage.tsx"],"sourcesContent":["import { joiResolver } from '@hookform/resolvers/joi';\r\nimport { ReactElement, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nimport { Accordion, FormActions, InputField } from '../../components/molecules';\r\nimport {\r\n  SketchColor,\r\n  VacancyCategoryFormInputs,\r\n} from '../../components/organisms';\r\nimport { VacancyCategoryFormSchema } from '../../validations';\r\nimport {\r\n  useGetJobTypeQuery,\r\n  useSaveJobTypeMutation,\r\n} from '../../../GraphQl/graphql';\r\nimport { gqlVar, twClsx } from '../../utils';\r\n\r\nconst CreateVacancyCategoriesPage = (): ReactElement => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    control,\r\n    reset,\r\n    setValue,\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<VacancyCategoryFormInputs>({\r\n    resolver: joiResolver(VacancyCategoryFormSchema),\r\n  });\r\n\r\n  const { data: { getJobType = null } = {} } = useGetJobTypeQuery({\r\n    variables: { entity: { id } },\r\n    skip: !id,\r\n  });\r\n\r\n  const [saveJobType] = useSaveJobTypeMutation({\r\n    onCompleted: () => navigate('/admin/job-announcements/categories'),\r\n  });\r\n\r\n  const handleOnSubmit = (data: VacancyCategoryFormInputs) => {\r\n    saveJobType(\r\n      gqlVar({ ...data, ...(!!getJobType && { id: getJobType?.id }) })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!getJobType) {\r\n      reset({\r\n        name: getJobType?.name || '',\r\n        color: getJobType?.color || '',\r\n      });\r\n    }\r\n  }, [getJobType, reset]);\r\n\r\n  return (\r\n    <form className=\"min-h-full\">\r\n      <Accordion\r\n        title=\"Kategorie\"\r\n        showSide\r\n        open={!!id}\r\n        sideClassName=\"bg-transparent\"\r\n        sideContent={<SketchColor control={control} setValue={setValue} />}\r\n        className={twClsx(\r\n          (errors.color || errors.name) && 'border border-primary'\r\n        )}\r\n      >\r\n        <div className=\"flex flex-col justify-start w-full space-y-6\">\r\n          <InputField\r\n            id=\"name\"\r\n            label=\"Kategoriename\"\r\n            placeholder=\"Metallhandwerk\"\r\n            {...register('name')}\r\n            error={errors?.name?.message}\r\n          />\r\n          <InputField\r\n            id=\"color\"\r\n            label=\"Farbe\"\r\n            placeholder=\"#FFFFFF\"\r\n            {...register('color')}\r\n            error={errors?.color?.message}\r\n          />\r\n        </div>\r\n      </Accordion>\r\n      <FormActions onSubmit={handleSubmit(handleOnSubmit)} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreateVacancyCategoriesPage;\r\n"],"names":["id","useParams","navigate","useNavigate","useForm","resolver","joiResolver","VacancyCategoryFormSchema","control","reset","setValue","register","handleSubmit","errors","formState","useGetJobTypeQuery","variables","entity","skip","data","getJobType","useSaveJobTypeMutation","onCompleted","saveJobType","useEffect","name","color","className","title","showSide","open","sideClassName","sideContent","twClsx","label","placeholder","error","message","onSubmit","gqlVar"],"sourceRoot":""}