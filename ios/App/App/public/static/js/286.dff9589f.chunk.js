"use strict";(self.webpackChunkjugendwerkstatt=self.webpackChunkjugendwerkstatt||[]).push([[286],{48286:function(e,i,n){n.r(i),n.d(i,{default:function(){return j}});var l=n(1413),s=n(29439),a=n(35820),d=n(72791),r=n(61134),u=n(16871),o=n(1841),t=n(34204),v=n(7043),c=n(99374),h=n(4819),m=n.n(h),p=m().object({userId:m().string().required().label("Benutzer/in"),evaluationQuestionId:m().string().required().label("Evaluierungsbogen")}),f=n(80184),j=function(){var e,i,n=(0,u.UO)().id,h=(0,u.s0)(),m=(0,o.Mdq)({skip:!n,variables:{entity:{id:n}},fetchPolicy:"cache-and-network"}),j=m.data,x=(j=void 0===j?{}:j).assignment,b=void 0===x?null:x,g=m.loading,I=(0,o.KeL)({variables:{params:{expression:{entity:{operator:o.$_M.Equal,path:"approved",value:"true"}}}}}).data,k=(I=void 0===I?{}:I).users,q=void 0===k?null:k,y=(0,o.vcq)().data,Q=(y=void 0===y?{}:y).questionnaires,Z=void 0===Q?null:Q,w=(0,o.CRs)({onCompleted:function(){return h("/admin/evaluations/assignments")}}),N=(0,s.Z)(w,1)[0],S=(0,r.cI)({resolver:(0,a.L)(p)}),C=S.register,B=S.reset,E=S.handleSubmit,z=S.formState.errors;(0,d.useEffect)((function(){var e,i;n&&b&&B({userId:(null===(e=b.user)||void 0===e?void 0:e.id)||"",evaluationQuestionId:(null===(i=b.questionnaire)||void 0===i?void 0:i.id)||""})}),[b,n,B]);return g?(0,f.jsx)("h1",{children:"Loading..."}):(0,f.jsxs)("form",{className:"min-h-full",children:[(0,f.jsx)(v.UQ,{title:"Stammdaten",open:!!n,className:(0,c.Tn)((z.userId||z.evaluationQuestionId)&&"border border-primary"),children:(0,f.jsxs)("div",{className:"space-y-6",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)(t.Ph,(0,l.Z)((0,l.Z)({id:"user",label:"Benutzer/in"},C("userId")),{},{children:[!b&&(0,f.jsx)("option",{value:"",children:"W\xe4hlen Sie einen Benutzer aus"}),null===q||void 0===q||null===(e=q.result)||void 0===e?void 0:e.map((function(e){return(0,f.jsx)("option",{value:(null===e||void 0===e?void 0:e.id)||"",children:null===e||void 0===e?void 0:e.fullname},null===e||void 0===e?void 0:e.id)}))]})),z.userId&&(0,f.jsx)("p",{className:"text-primary",children:z.userId.message})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)(t.Ph,(0,l.Z)((0,l.Z)({label:"Evaluierungsbogen"},C("evaluationQuestionId")),{},{placeholder:"Choose an Option",children:[!b&&(0,f.jsx)("option",{value:"",children:"W\xe4hlen Sie eine Bewertung aus"}),null===Z||void 0===Z||null===(i=Z.result)||void 0===i?void 0:i.map((function(e){return(0,f.jsx)("option",{value:(null===e||void 0===e?void 0:e.id)||"",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))]})),z.evaluationQuestionId&&(0,f.jsx)("p",{className:"text-primary",children:z.evaluationQuestionId.message})]})]})}),(0,f.jsx)(v.iN,{onSubmit:E((function(e){var i=e.userId,s=e.evaluationQuestionId;N({variables:{entity:(0,l.Z)((0,l.Z)({},n&&{id:n}),{},{user:{id:i},questionnaire:{id:s}})}})}))})]})}}}]);
//# sourceMappingURL=286.dff9589f.chunk.js.map