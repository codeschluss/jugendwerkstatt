{"version":3,"file":"static/js/306.36ef098d.chunk.js","mappings":"uNAgFA,UApE8B,YACXA,EAAAA,EAAAA,MADkB,IAAD,EAElC,GAAwCC,EAAAA,EAAAA,KAAsB,CAC5DC,UAAW,CACTC,OAAQ,CACNC,WAAY,CACVC,OAAQ,CACNC,SAAUC,EAAAA,IAAAA,MACVC,KAAM,WACNC,MAAO,cAPTC,EAAR,EAAQA,KAAeC,EAAvB,EAAcC,QAcd,GAAsBC,EAAAA,EAAAA,KAAyB,CAC7CC,YAAa,kBAAMH,OADdI,GAAP,eAGA,GAAqBC,EAAAA,EAAAA,KAAsB,CACzCF,YAAa,kBAAMH,OADdM,GAAP,eAMMC,EAAmB,SAACC,GAAD,OAAoB,WAEvCC,QAAQ,oCACVH,EAAW,CAAEf,UAAW,CAAEmB,GAAIF,OAKlC,OACE,SAAC,aAAD,WACE,SAAC,KAAD,CACEG,WAAY,CACV,cACA,SACA,gBACA,sBACA,YAEFC,UACO,OAAJb,QAAI,IAAJA,GAAA,UAAAA,EAAMc,aAAN,eAAaC,SACZf,EAAKc,MAAMC,OAAOC,KAAI,SAACC,GAAD,OACpB,UAAC,SAAD,YACE,SAAC,UAAD,iBAAaA,QAAb,IAAaA,OAAb,EAAaA,EAAMC,YACnB,SAAC,UAAD,iBAAaD,QAAb,IAAaA,OAAb,EAAaA,EAAME,SACnB,SAAC,UAAD,iBAAaF,QAAb,IAAaA,OAAb,EAAaA,EAAMG,SACnB,SAAC,UAAD,UACGC,GAAAA,CAAK,OAACJ,QAAD,IAACA,OAAD,EAACA,EAAMK,SAASC,OAAO,iBAE/B,SAAC,UAAD,WACE,SAAC,KAAD,CACEC,WAhCSf,GAgCwB,OAAJQ,QAAI,IAAJA,OAAA,EAAAA,EAAMN,KAAM,GAhCb,kBAC5CN,EAAY,CAAEb,UAAW,CAAEG,OAAQ,CAAEgB,GAAIF,EAAQgB,UAAU,QAgC3CC,SAAUlB,GAAqB,OAAJS,QAAI,IAAJA,OAAA,EAAAA,EAAMN,KAAM,UAV7C,OAAgBM,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAMN,IAvBR,IAACF,MAsCnB","sources":["admin/pages/User/UsersRequestsListPage.tsx"],"sourcesContent":["import dayjs from 'dayjs';\r\nimport { Navigate } from 'react-big-calendar';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  QueryOperator,\r\n  useDeleteUserMutation,\r\n  useGetUsersAdminQuery,\r\n  useSaveUserAdminMutation,\r\n} from '../../../GraphQl/graphql';\r\nimport { Table, Action, Panel, Button } from '../../components/atoms';\r\nimport { CustomTable } from '../../components/molecules';\r\n\r\nconst UsersRequestsListPage = () => {\r\n  const navigate = useNavigate();\r\n  const { data, refetch: refetchUsers } = useGetUsersAdminQuery({\r\n    variables: {\r\n      params: {\r\n        expression: {\r\n          entity: {\r\n            operator: QueryOperator.Equal,\r\n            path: 'approved',\r\n            value: 'false',\r\n          },\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\n  const [approveUser] = useSaveUserAdminMutation({\r\n    onCompleted: () => refetchUsers(),\r\n  });\r\n  const [deleteUser] = useDeleteUserMutation({\r\n    onCompleted: () => refetchUsers(),\r\n  });\r\n\r\n  const handleApproveUser = (userId: string) => () =>\r\n    approveUser({ variables: { entity: { id: userId, approved: true } } });\r\n  const handleDeleteUser = (userId: string) => () => {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    if (confirm('Möchten Sie dies löschen?')) {\r\n      deleteUser({ variables: { id: userId } });\r\n    }\r\n  };\r\n  const handleGoBack = () => navigate('/admin/users');\r\n\r\n  return (\r\n    <Panel.Wrapper>\r\n      <CustomTable\r\n        headerData={[\r\n          'Benutzer/in',\r\n          'E-Mail',\r\n          'Telefonnummer',\r\n          'Registrierungsdatum',\r\n          'Aktionen',\r\n        ]}\r\n        bodyData={\r\n          (data?.users?.result &&\r\n            data.users.result.map((user) => (\r\n              <Table.Row key={user?.id}>\r\n                <Table.Data>{user?.fullname}</Table.Data>\r\n                <Table.Data>{user?.email}</Table.Data>\r\n                <Table.Data>{user?.phone}</Table.Data>\r\n                <Table.Data>\r\n                  {dayjs(user?.created).format('DD.MM.YYYY')}\r\n                </Table.Data>\r\n                <Table.Data>\r\n                  <Action\r\n                    onApprove={handleApproveUser(user?.id || '')}\r\n                    onDelete={handleDeleteUser(user?.id || '')}\r\n                  />\r\n                </Table.Data>\r\n              </Table.Row>\r\n            ))) ||\r\n          []\r\n        }\r\n      />\r\n    </Panel.Wrapper>\r\n  );\r\n};\r\n\r\nexport default UsersRequestsListPage;\r\n"],"names":["useNavigate","useGetUsersAdminQuery","variables","params","expression","entity","operator","QueryOperator","path","value","data","refetchUsers","refetch","useSaveUserAdminMutation","onCompleted","approveUser","useDeleteUserMutation","deleteUser","handleDeleteUser","userId","confirm","id","headerData","bodyData","users","result","map","user","fullname","email","phone","dayjs","created","format","onApprove","approved","onDelete"],"sourceRoot":""}