{"version":3,"file":"static/js/519.7488f0aa.chunk.js","mappings":"wPAqEA,UAvD8B,WAAqB,IAAD,EACxCA,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MAEjB,GAKIC,EAAAA,EAAAA,IAA4B,CAC9BC,UAAUC,EAAAA,EAAAA,GAAYC,EAAAA,MALtBC,EADF,EACEA,SACAC,EAFF,EAEEA,SACAC,EAHF,EAGEA,aACaC,EAJf,EAIEC,UAAaD,OAKf,GACEE,EAAAA,EAAAA,KAA6B,CAC3BC,UAAW,CAAEC,OAAQ,CAAEf,GAAAA,IACvBgB,MAAOhB,IAHHiB,KAAR,gBAA2C,GAA3C,GAAgBC,gBAAAA,OAAhB,MAAkC,KAAlC,EAMA,GAA2BC,EAAAA,EAAAA,KAAiC,CAC1DC,YAAa,kBAAMlB,EAAS,8BADvBmB,GAAP,eAgBA,OANAC,EAAAA,EAAAA,YAAU,WACFJ,GACJV,EAAS,QAAuB,OAAfU,QAAe,IAAfA,OAAA,EAAAA,EAAiBK,OAAQ,MAE3C,CAACL,EAAiBV,KAGnB,kBAAMgB,UAAU,aAAhB,WACE,SAAC,KAAD,CACEC,OAAQzB,EACR0B,MAAM,YACNF,WAAWG,EAAAA,EAAAA,IAAOhB,EAAOY,MAAQ,yBAHnC,UAKE,SAAC,MAAD,gBACEvB,GAAG,OACH4B,MAAM,gBACNC,YAAY,kBACRpB,EAAS,SAJf,IAKEqB,MAAK,OAAEnB,QAAF,IAAEA,GAAF,UAAEA,EAAQY,YAAV,aAAE,EAAcQ,cAGzB,SAAC,KAAD,CAAaC,SAAUtB,GA3BJ,SAAC,GAAkC,IAAhCa,EAA+B,EAA/BA,KACxBF,GACEY,EAAAA,EAAAA,KAAO,QAAEV,KAAAA,KAAYL,GAAmB,CAAElB,GAAE,OAAEkB,QAAF,IAAEA,OAAF,EAAEA,EAAiBlB","sources":["admin/pages/Forms/CreateFormsCategories.tsx"],"sourcesContent":["import { ReactElement, useEffect } from 'react';\r\nimport { joiResolver } from '@hookform/resolvers/joi';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nimport { Accordion, FormActions, InputField } from '../../components/molecules';\r\nimport { CategoryFormInputs } from '../../components/organisms';\r\nimport { CategoryFormSchema } from '../../validations';\r\nimport {\r\n  useGetTemplateTypeAdminQuery,\r\n  useSaveTemplateTypeAdminMutation,\r\n} from '../../../GraphQl/graphql';\r\nimport { gqlVar, twClsx } from '../../utils';\r\n\r\nconst CreateFormsCategories = (): ReactElement => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    setValue,\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<CategoryFormInputs>({\r\n    resolver: joiResolver(CategoryFormSchema),\r\n  });\r\n\r\n  const { data: { getTemplateType = null } = {} } =\r\n    useGetTemplateTypeAdminQuery({\r\n      variables: { entity: { id } },\r\n      skip: !id,\r\n    });\r\n\r\n  const [saveTemplateType] = useSaveTemplateTypeAdminMutation({\r\n    onCompleted: () => navigate('/admin/forms/categories'),\r\n  });\r\n\r\n  const handleOnSubmit = ({ name }: CategoryFormInputs) => {\r\n    saveTemplateType(\r\n      gqlVar({ name, ...(!!getTemplateType && { id: getTemplateType?.id }) })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!getTemplateType) {\r\n      setValue('name', getTemplateType?.name || '');\r\n    }\r\n  }, [getTemplateType, setValue]);\r\n\r\n  return (\r\n    <form className=\"min-h-full\">\r\n      <Accordion\r\n        open={!!id}\r\n        title=\"Kategorie\"\r\n        className={twClsx(errors.name && 'border border-primary')}\r\n      >\r\n        <InputField\r\n          id=\"name\"\r\n          label=\"Kategoriename\"\r\n          placeholder=\"Metallhandwerk\"\r\n          {...register('name')}\r\n          error={errors?.name?.message}\r\n        />\r\n      </Accordion>\r\n      <FormActions onSubmit={handleSubmit(handleOnSubmit)} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreateFormsCategories;\r\n"],"names":["id","useParams","navigate","useNavigate","useForm","resolver","joiResolver","CategoryFormSchema","setValue","register","handleSubmit","errors","formState","useGetTemplateTypeAdminQuery","variables","entity","skip","data","getTemplateType","useSaveTemplateTypeAdminMutation","onCompleted","saveTemplateType","useEffect","name","className","open","title","twClsx","label","placeholder","error","message","onSubmit","gqlVar"],"sourceRoot":""}