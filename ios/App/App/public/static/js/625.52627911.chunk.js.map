{"version":3,"file":"static/js/625.52627911.chunk.js","mappings":"kQAuGA,UArFmC,WACjC,IAAQA,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MAEXC,GAAUC,EAAAA,EAAAA,IAAoC,CAClDC,UAAUC,EAAAA,EAAAA,GAAYC,EAAAA,MAItBC,EAGEL,EAHFK,MACAC,EAEEN,EAFFM,aACaC,EACXP,EADFQ,UAAaD,OAGf,GAA6CE,EAAAA,EAAAA,KAAmB,CAC9DC,UAAW,CAAEC,OAAQ,CAAEf,GAAAA,IACvBgB,MAAOhB,IAFDiB,KAAR,gBAAsC,GAAtC,GAAgBC,WAAAA,OAAhB,MAA6B,KAA7B,EAKA,GAAsBC,EAAAA,EAAAA,KAAuB,CAC3CC,YAAa,kBAAMlB,EAAS,yCADvBmB,GAAP,eA2CA,OAnBAC,EAAAA,EAAAA,YAAU,WACW,IAAD,QAAZJ,GACJT,EAAM,CACJc,QAAS,CACPC,aAAuB,OAAVN,QAAU,IAAVA,GAAA,UAAAA,EAAYK,eAAZ,eAAqBC,cAAe,GACjDC,OAAiB,OAAVP,QAAU,IAAVA,GAAA,UAAAA,EAAYK,eAAZ,eAAqBE,QAAS,GACrCC,YAAsB,OAAVR,QAAU,IAAVA,GAAA,UAAAA,EAAYK,eAAZ,eAAqBG,aAAc,GAC/CC,QAAkB,OAAVT,QAAU,IAAVA,GAAA,UAAAA,EAAYK,eAAZ,eAAqBI,SAAU,IAEzCC,SAAU,CACRC,MAAgB,OAAVX,QAAU,IAAVA,OAAA,EAAAA,EAAYW,OAAQ,GAC1BC,MAAgB,OAAVZ,QAAU,IAAVA,OAAA,EAAAA,EAAYY,OAAQ,GAC1BC,OAAiB,OAAVb,QAAU,IAAVA,OAAA,EAAAA,EAAYa,QAAS,GAC5BC,SAAmB,OAAVd,QAAU,IAAVA,OAAA,EAAAA,EAAYc,UAAW,QAIrC,CAACd,EAAYT,KAGd,SAAC,MAAD,kBAAkBL,GAAlB,cACE,kBAAM6B,UAAU,aAAhB,WACE,SAAC,KAAD,CACEC,MAAM,aACNC,OAAQnC,EACRiC,WAAWG,EAAAA,EAAAA,IAAOzB,EAAOiB,UAAY,yBAHvC,UAKE,SAAC,KAAD,OAEF,SAAC,KAAD,CACEM,MAAM,UACNC,OAAQnC,EACRiC,WAAWG,EAAAA,EAAAA,IAAOzB,EAAOY,SAAW,yBAHtC,UAKE,SAAC,KAAD,OAEF,SAAC,KAAD,CAAac,SAAU3B,GAxDN,SAAC,GAGW,IAFjCkB,EAEgC,EAFhCA,SACAL,EACgC,EADhCA,QAEAF,EAAY,CACVP,UAAW,CACTC,QAAO,kBACFa,GADC,IAEJL,QAAAA,KAMML,GAAc,CAAElB,GAAE,OAAEkB,QAAF,IAAEA,OAAF,EAAEA,EAAYlB","sources":["admin/pages/Vacancy/CreateVacancyCompaniesPage.tsx"],"sourcesContent":["import { ReactElement, useEffect } from 'react';\r\nimport { joiResolver } from '@hookform/resolvers/joi';\r\nimport { FormProvider, useForm } from 'react-hook-form';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport {\r\n  useGetCompanyQuery,\r\n  useSaveCompanyMutation,\r\n} from '../../../GraphQl/graphql';\r\n\r\nimport { Accordion, FormActions } from '../../components/molecules';\r\nimport {\r\n  AddressForm,\r\n  VacancyCompaniesFormInputs,\r\n  VacancyCompanyForm,\r\n} from '../../components/organisms';\r\nimport { VacancyCompaiesFormSchema } from '../../validations';\r\nimport { twClsx } from '../../utils';\r\n\r\nconst CreateVacancyCompaniesPage = (): ReactElement => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const methods = useForm<VacancyCompaniesFormInputs>({\r\n    resolver: joiResolver(VacancyCompaiesFormSchema),\r\n  });\r\n\r\n  const {\r\n    reset,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = methods;\r\n\r\n  const { data: { getCompany = null } = {} } = useGetCompanyQuery({\r\n    variables: { entity: { id } },\r\n    skip: !id,\r\n  });\r\n\r\n  const [saveCompany] = useSaveCompanyMutation({\r\n    onCompleted: () => navigate('/admin/job-announcements/companies'),\r\n  });\r\n\r\n  const handleOnSubmit = ({\r\n    baseData,\r\n    address,\r\n  }: VacancyCompaniesFormInputs) => {\r\n    saveCompany({\r\n      variables: {\r\n        entity: {\r\n          ...baseData,\r\n          address,\r\n          // jobAd: [\r\n          //   {\r\n          //     id: \"2a592f70-9ffe-404a-b8dc-2c95ca4799ec\",\r\n          //   },\r\n          // ],\r\n          ...(!!getCompany && { id: getCompany?.id }),\r\n        },\r\n      },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!getCompany) {\r\n      reset({\r\n        address: {\r\n          houseNumber: getCompany?.address?.houseNumber || '',\r\n          place: getCompany?.address?.place || '',\r\n          postalCode: getCompany?.address?.postalCode || '',\r\n          street: getCompany?.address?.street || '',\r\n        },\r\n        baseData: {\r\n          mail: getCompany?.mail || '',\r\n          name: getCompany?.name || '',\r\n          phone: getCompany?.phone || '',\r\n          website: getCompany?.website || '',\r\n        },\r\n      });\r\n    }\r\n  }, [getCompany, reset]);\r\n\r\n  return (\r\n    <FormProvider {...methods}>\r\n      <form className=\"min-h-full\">\r\n        <Accordion\r\n          title=\"Stammdaten\"\r\n          open={!!id}\r\n          className={twClsx(errors.baseData && 'border border-primary')}\r\n        >\r\n          <VacancyCompanyForm />\r\n        </Accordion>\r\n        <Accordion\r\n          title=\"Adresse\"\r\n          open={!!id}\r\n          className={twClsx(errors.address && 'border border-primary')}\r\n        >\r\n          <AddressForm />\r\n        </Accordion>\r\n        <FormActions onSubmit={handleSubmit(handleOnSubmit)} />\r\n      </form>\r\n    </FormProvider>\r\n  );\r\n};\r\n\r\nexport default CreateVacancyCompaniesPage;\r\n"],"names":["id","useParams","navigate","useNavigate","methods","useForm","resolver","joiResolver","VacancyCompaiesFormSchema","reset","handleSubmit","errors","formState","useGetCompanyQuery","variables","entity","skip","data","getCompany","useSaveCompanyMutation","onCompleted","saveCompany","useEffect","address","houseNumber","place","postalCode","street","baseData","mail","name","phone","website","className","title","open","twClsx","onSubmit"],"sourceRoot":""}