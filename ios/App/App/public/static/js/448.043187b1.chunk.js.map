{"version":3,"file":"static/js/448.043187b1.chunk.js","mappings":"yPAoEA,UAtD6B,WAAqB,IAAD,EACvCA,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MAEjB,GAKIC,EAAAA,EAAAA,IAA4B,CAC9BC,UAAUC,EAAAA,EAAAA,GAAYC,EAAAA,MALtBC,EADF,EACEA,SACAC,EAFF,EAEEA,SACAC,EAHF,EAGEA,aACaC,EAJf,EAIEC,UAAaD,OAKf,GAA2CE,EAAAA,EAAAA,KAAyB,CAClEC,UAAW,CAAEC,OAAQ,CAAEf,GAAAA,IACvBgB,MAAOhB,IAFDiB,KAAR,gBAAoC,GAApC,GAAgBC,SAAAA,OAAhB,MAA2B,KAA3B,EAKA,GAA4BC,EAAAA,EAAAA,KAA6B,CACvDC,YAAa,kBAAMlB,EAAS,+BADvBmB,GAAP,eAgBA,OANAC,EAAAA,EAAAA,YAAU,WACFJ,GACJV,EAAS,QAAgB,OAARU,QAAQ,IAARA,OAAA,EAAAA,EAAUK,OAAQ,MAEpC,CAACL,EAAUV,KAGZ,kBAAMgB,UAAU,aAAhB,WACE,SAAC,KAAD,CACEC,OAAQzB,EACR0B,MAAM,YACNF,WAAWG,EAAAA,EAAAA,IAAOhB,EAAOY,MAAQ,yBAHnC,UAKE,SAAC,MAAD,gBACEvB,GAAG,OACH4B,MAAM,gBACNC,YAAY,kBACRpB,EAAS,SAJf,IAKEqB,MAAK,OAAEnB,QAAF,IAAEA,GAAF,UAAEA,EAAQY,YAAV,aAAE,EAAcQ,cAGzB,SAAC,KAAD,CAAaC,SAAUtB,GA3BJ,SAAC,GAAkC,IAAhCa,EAA+B,EAA/BA,KACxBF,GACEY,EAAAA,EAAAA,KAAO,QAAEV,KAAAA,KAAYL,GAAY,CAAElB,GAAE,OAAEkB,QAAF,IAAEA,OAAF,EAAEA,EAAUlB","sources":["admin/pages/Events/CreateCategoriesPage.tsx"],"sourcesContent":["import { ReactElement, useEffect } from 'react';\r\nimport { joiResolver } from '@hookform/resolvers/joi';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nimport { Accordion, FormActions, InputField } from '../../components/molecules';\r\nimport { CategoryFormInputs } from '../../components/organisms';\r\nimport { CategoryFormSchema } from '../../validations';\r\nimport {\r\n  useGetEventCategoryQuery,\r\n  useSaveEventCategoryMutation,\r\n} from '../../../GraphQl/graphql';\r\nimport { gqlVar, twClsx } from '../../utils';\r\n\r\nconst CreateCategoriesPage = (): ReactElement => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    setValue,\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<CategoryFormInputs>({\r\n    resolver: joiResolver(CategoryFormSchema),\r\n  });\r\n\r\n  const { data: { category = null } = {} } = useGetEventCategoryQuery({\r\n    variables: { entity: { id } },\r\n    skip: !id,\r\n  });\r\n\r\n  const [saveEventCategory] = useSaveEventCategoryMutation({\r\n    onCompleted: () => navigate('/admin/events/categories'),\r\n  });\r\n\r\n  const handleOnSubmit = ({ name }: CategoryFormInputs) => {\r\n    saveEventCategory(\r\n      gqlVar({ name, ...(!!category && { id: category?.id }) })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!category) {\r\n      setValue('name', category?.name || '');\r\n    }\r\n  }, [category, setValue]);\r\n\r\n  return (\r\n    <form className=\"min-h-full\">\r\n      <Accordion\r\n        open={!!id}\r\n        title=\"Kategorie\"\r\n        className={twClsx(errors.name && 'border border-primary')}\r\n      >\r\n        <InputField\r\n          id=\"name\"\r\n          label=\"Kategoriename\"\r\n          placeholder=\"Metallhandwerk\"\r\n          {...register('name')}\r\n          error={errors?.name?.message}\r\n        />\r\n      </Accordion>\r\n      <FormActions onSubmit={handleSubmit(handleOnSubmit)} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreateCategoriesPage;\r\n"],"names":["id","useParams","navigate","useNavigate","useForm","resolver","joiResolver","CategoryFormSchema","setValue","register","handleSubmit","errors","formState","useGetEventCategoryQuery","variables","entity","skip","data","category","useSaveEventCategoryMutation","onCompleted","saveEventCategory","useEffect","name","className","open","title","twClsx","label","placeholder","error","message","onSubmit","gqlVar"],"sourceRoot":""}